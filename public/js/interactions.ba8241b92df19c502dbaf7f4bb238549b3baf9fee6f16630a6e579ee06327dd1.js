(()=>{async function h(n){let l=document.getElementById(n),f=l.getElementsByTagName("label")[0],d=document.querySelector("#"+n+" + .expanded"),r=await fetch(window.location.pathname+n);if(!r.ok){console.log(r.statusText);return}let o=await r.json();if(o.length==0)return;l.style.display="flex",d.style.display="flex";let g=n.charAt(0).toUpperCase()+n.slice(1);f.firstChild.textContent=g+" ("+o.length+")",previewImages=l.getElementsByClassName("preview_images")[0];for(let[m,t]of o.entries()){let p=t.url?t.url:n=="likes"?t.id:t.actor.id,w=new URL(t.actor.id).hostname,c=t.actor.preferredUsername,u="@"+c+"@"+w,C=t.actor.icon,a=document.createElement("a");a.href=p,a.title=u;let e=document.createElement("img");e.setAttribute("src",C),e.setAttribute("alt",c),e.setAttribute("width","32"),e.setAttribute("height","32"),a.appendChild(e),m<=3&&previewImages.appendChild(a),m==3&&previewImages.appendChild(document.createTextNode("\xA0\u2026"));let s=document.createElement("a"),i=document.createElement("span");e=e.cloneNode(),s.href=p,s.title=u,i.appendChild(e),i.append(c),i.style.display="inline-block",s.appendChild(i),d.appendChild(s)}}async function E(){return Promise.all[h("likes"),h("shares")]}E();})();
